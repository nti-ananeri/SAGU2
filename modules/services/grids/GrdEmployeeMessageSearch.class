<?php

class GrdEmployeeMessageSearch extends MGrid
{
    /**
     * Class constructor
     **/
    function __construct($filters)
    {
        $MIOLO = MIOLO::getInstance();
        $home  = $filters->home;

        $columns = array(
                          new MGridColumn( _M('Message id', 'basic'), 'left',  true, null, false, null, false ),
                          new MGridColumn( _M('From id',    'basic'), 'left',  true, null, false, null, false ),
                          new MGridColumn( _M('From',       'basic'), 'left',  true, null, true, null, false ),
                          new MGridColumn( _M('To id',      'basic'), 'left',  true, null, false, null, false ),
                          new MGridColumn( _M('To',         'basic'), 'left',  true, null, false, null, false ),
                          new MGridColumn( _M('Title',      'basic'), 'left',  true, null, true, null, false ),
                          new MGridColumn( _M('Message',    'basic'), 'left',  true, null, false, null, false ),
                          new MGridColumn( _M('Date',       'basic'), 'center',  true, null, true, null, false ),
                          new MGridColumn( _M('Begin date', 'services'), 'center',  true, null, true, null, false ),
                          new MGridColumn( _M('End date',   'services'), 'center',  true, null, true, null, false ),
                          new MGridColumn( _M('To',         'basic'), 'left',  true, null, true, array('P' => _M('Professors', 'services'), 'S' => _M('Pupils', 'services'), 'E' => _M('Employees', 'services') ), false )
                        );


        unset($opts);
        $url = $MIOLO->getActionURL('services', "$home:search", null, $opts);
        parent::__construct( null, $columns, $url, null, 0, 'gridMessageSearch' );

        $opts = array('function'  => 'view',
                      'messageId' => '%0%');
        $href_view = $MIOLO->getActionURL( 'services', $home, null, $opts );
        $this->addActionIcon( _M('Update', 'basic'), 'edit.png', $href_view );

        //$this->actions[] =  new MGridActionSelect($this);
        $this->selecteds = array(0);
        $this->eventHandler();

    }

}

?>
