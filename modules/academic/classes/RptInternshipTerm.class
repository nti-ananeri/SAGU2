<?
/**
*
* @author Giovani Murilo Dantas Correa [gmurilo@isolution.inf.br]
*
* $version: $Id$
*
* \b Maintainers \n
* Daniel Afonso Heisler [daniel@isolution.inf.br]
*
* @since
* Class created on 25/03/2009
*
* \b Organization: \n
* iSolution - Soluções de Internet \n
* The iSolution TEAM
*
* \b CopyLeft: \n
* CopyLeft (L) 2007 iSolution - Soluções de Internet \n
*
* \b License \n
* Licensed under GPL (for further details read the COPYING file or http://www.gnu.org/copyleft/gpl.html )
*
* \b History \n
* See history in CVS repository: http://isolution.inf.br   
*
**/
set_time_limit(0);        
$MIOLO = MIOLO::getInstance();
$module = 'academic';

define('FPDF_FONTPATH', $MIOLO->getModulePath('basic', '/classes/fpdf/font/'));
$MIOLO->Uses('classes/fpdf/pdf.php', 'basic');

class RptInternshipTerm extends PDF
{
    var $module = 'basic';
    public function __construct($filters = NULL)
    {
        $MIOLO = MIOLO::getInstance();
        $this->db1 = $MIOLO->getBusiness('basic', 'BusLegalPerson');
        $this->db2 = $MIOLO->getBusiness('basic', 'BusPhysicalPerson');
        $this->db3 = $MIOLO->getBusiness('academic', 'BusContract');
        
        $this->title = strtoupper('TERMO DE COMPROMISSO DE ESTÁGIO');
        parent::__construct();
        $this->useUserInfo = true;
        $this->addPage('P', 'mm', 'A4');
        $this->aliasNbPages();   
        $this->generatePDF($filters);
    }

    public function generatePDF($data = NULL)
    {
        if ( strlen((string)$data->legalPersonId) > 0 ) 
        {
            $concedente = $this->db1->getLegalPerson($data->legalPersonId);
        }

        if ( strlen((string)$data->personId) > 0 ) 
        {
            $estagiario = $this->db2->getPhysicalPerson($data->personId);
            if ( strlen((string)$data->contractId) > 0 )
            {
                $contract = $this->db3->getContract($data->contractId);
                $estagiario->contract = $contract;
            }
        }
         
		$this->setFont('courier', '', 8);
        $this->MultiCell($this->psize, $this->lsize,
'I INSTITUIÇÃO DE ENSINO

Razão Social: '. strtoupper($this->pdfInfo->legalPersonName). '
Endereço: '. $this->pdfInfo->legalPersonAddress . ' CEP: '. $this->pdfInfo->zipCode . '
Representada por: Rita Ivana Barbosa Gomes      Cargo: DIRETORA
Resp. pela assinatura do TCE    
            
II CONCEDENTE
Razão Social: '. strtoupper($concedente->name) . '
Endereço: '. strtoupper( $concedente->location . ', '._M('Number', 'basic') . ' ' . $concedente->number . ' - ' . $concedente->neighborhood . ' - ' . $concedente->cityName . '/' . $concedente->stateId ) . ' CEP: '. $concedente->zipCode . '
Fone: '. $concedente->phone . '  E-mail: '. $concedente->email . '
Representada por
Nome: '. $data->responsable . '
Cargo: '. $data->responsableJob . '
Resp. pela assinatura do TCE

III ESTAGIÁRIO
Nome: '. $estagiario->name . '
Endereço: '. strtoupper( $estagiario->location . ', '._M('Number', 'basic') . ' ' . $estagiario->number . ' - ' . $estagiario->neighborhood . ' - ' . $estagiario->cityName . '/' . $estagiario->stateId ) . ' CEP: '. $estagiario->zipCode . '
Fone: '. $estagiario->phone. ' E-mail: '. $estagiario->email . '
Regularmente Matriculada no curso de: '. $estagiario->contract->courseName . '
Nível: Superior         
RG: ' . $estagiario->rg . ' Orgão Expedição: '. $estagiario->rgSSP . ' CPF: '. ( strlen((string)$estagiario->cpf) == 11 ? SAGU::convertInCpfFormat($estagiario->cpf) : $estagiario->cpf ) . '


CLÁUSULA 1ª - Este instrumento tem por objetivo formalizar as considerações para a realização de ESTÁGIO OBRIGATÓRIO DE ESTUDANTE, com interveniência e assinatura da INSTITUIÇÃO DE ENSINO,  a fim de particularizar a relação jurídica especial existente entre o ESTUDANTE e a CONCEDENTE, caracterizando a não vinculação empregatícia, nos termos da legislação vigente.

CLÁUSULA 2ª - O ESTÁGIO DE ESTUDANTES, obrigatório ou não, é interesse curricular e pedagogicamente útil, nos termos da Lei nº. 6.494/77 regulamentada pelo nos termos da Lei n.° 11.788, de 25 de setembro de 2008 e suas regulamentações.

CLÁUSULA 3ª - Ficam compromissadas entre as partes as seguintes CONDIÇÕES PARA REALIZAÇÃO DO ESTÁGIO:

1.  Vigência: '. $data->vigencia . ' 
2.  Horário: '. $data->horario . '
3.  Atividade do Estágio: ' . $data->atividadeDoEstagio . ' 
4.  Setor: '. $data->setor . '
5.  Supervisor: '. $data->supervisor . '
                
CLÁUSULA 4ª - Na vigência do presente termo, o ESTAGIÁRIO está incluído na cobertura do SEGURO DE ACIDENTES PESSOAIS no BRADESCO em caso de acidentes pessoais, sendo de responsabilidade da Instituição de Ensino.
                
CLÁUSULA 5ª - Cabe à INSTITUIÇÃO DE ENSINO:

A) Acompanhar, orientar e avaliar o estágio, visando a complementação do ensino e da aprendizagem;
B) Informar á CONCEDENTE qualquer irregularidade na situação escolar do estudante (trancamento de matrícula, abandono, conclusão de curso ou transferência da Instituição de Ensino), durante a vigência do seu estágio;
C) Designar um supervisor para orientar e acompanhar o estagiário no desenvolvimento das atividades do estágio, garantindo o cumprimento do disposto no presente instrumento;
D) Encaminhar, obrigatoriamente à Concedente, uma via do presente instrumento, devidamente assinado pelas partes;
E) Informar por escrito qualquer alteração no processo de estágio, para as pendências que se fizerem necessárias, com antecedência de 24 horas.
            
CLÁUSULA 6ª - Cabe à CONCEDENTE:

A) Proporcionar à INSTITUIÇÃO DE ENSINO, sempre que solicitado subsídio que possibilitem o acompanhamento, a supervisão e avaliação do ESTÁGIO;
B) Tomar as medidas cabíveis quanto à danos morais, materiais ético-disciplinares aos quais o(a) estagiário (a) der causa, podendo suspender o estágio;
C) Preservar a integridade física e moral, bem como, todas as prerrogativas fundamentais ao exercício da cidadania, pelos quais, nenhum ato discriminatório por parte do Estagiário será admitido;
D) Fornecer suporte e/ou instrumentos formadores da práxis técnica dentro de suas atividades institucionais.
            
CLÁUSULA 7ª - Cabe ao Estagiário:

A) Cumprir com todo empenho e interesse, toda programação estabelecida para seu ESTÁGIO;
B) Observar, obedecer e cumprir as normas internas e disciplinares da CONCEDENTE, preservando o sigilo das informações que tiver acesso;
C) Apresentar documentos comprobatórios da regularidade da sua situação escolar, sempre que solicitado pelas partes;
D) Manter rigorosamente atualizado seus dados cadastrais e escolares, junto à CONCEDENTE;
E) Informar de imediato, qualquer alteração na sua situação escolar, tais como: trancamento de matrícula, abandono, conclusão de curso ou transferência de Instituição de Ensino;
F) Apresentar-se devidamente vestido e com material didático para suas respectivas atividades;
G) Observar a postura profissional no campo de estágio, evitando quaisquer atitudes e comportamentos que possam prejudicar ou interferir nos trabalhos ali realizados;
H) Zelar pela boa conservação das instalações e do patrimônio do campo de estágio, atestando-se de utilizar os equipamentos para fins que não àqueles do Estágio, evitando desperdício de material;
I) Preencher obrigatoriamente, o Relatório de Acompanhamento do Estágio, quando solicitado.
            
CLÁUSULA 8ª - O presente instrumento pode ser prorrogado através da emissão de um TERMO ADITIVO ou ser denunciado, a qualquer tempo, mediante a comunicação escrita, pela Instituição de Ensino, pela CONCEDENTE ou pelo Estagiário.
            
Parágrafo único: O não cumprimento de qualquer cláusula do presente ACORDO DE COOPERAÇÃO e TERMO DE COMPROMISSO DE ESTÁGIO, constituem motivos de imediata rescisão.
            
E, por estarem de inteiro e comum acordo com as condições estabelecidas neste ACORDO DE COOPERAÇÃO e TERMO DE COMPROMISSO DE ESTÁGIO TCE, as partes assinam em 3 (três) vias de igual teor.');
$this->ln(12);
$this->cell(($this->psize/4), $this->lsize, '');
$this->cell($this->psize/2, $this->lsize, 'INSTITUIÇÃO DE ENSINO', 'T', null, 'C');
$this->ln(12);
$this->cell(($this->psize/4), $this->lsize, '');
$this->cell($this->psize/2, $this->lsize, 'ESTAGIÁRIO', 'T', null, 'C');
$this->ln(12);
$this->cell(($this->psize/4), $this->lsize, '');
$this->cell($this->psize/2, $this->lsize, 'CONCEDENTE', 'T', null, 'C');
$this->ln(12);

        PDF::generatePDF();
    }

    public function Header()
    {
        parent::Header();
    }
    public function Footer()
    {
        parent::Footer();
    }
}
?>
