<?php

$MIOLO = MIOLO::getInstance();
$MIOLO->Uses('classes/RptScolarshipDescription.class', 'academic');

class RptScolarshipDescriptionFAMA extends RptScolarshipDescription
{
    var $module = 'academic';
  
    public function getContractInfo()
    {
        parent::getContractInfo();
        if ( strlen((string)$this->contract->linhaFormacaoEspecifica) > 0 )
        {
				$this->contract->courseId = 'ADMINISTRAÇÃO';            
            $this->contract->courseName = NULL;
        }
    }
    public function footerCurricularComponent()
    {
        $MIOLO = MIOLO::getInstance();
        $comments = $this->contract->comments;
        $this->contract->comments = '';
        if ( strlen((string)$this->contract->linhaFormacaoEspecifica) > 0 )
        {
            /*$this->setFont(DEFAULT_REPORT_FONT, 'B', $this->defaultFontSize);
            $this->cell($this->psize-40, $this->lsize, 'Linha de formação específica: ', null, null, 'R');
            $this->setFont(DEFAULT_REPORT_FONT, '', $this->defaultFontSize);
            $this->cell(40, $this->lsize, strtoupper($this->contract->linhaFormacaoEspecifica));
            $this->ln();*/

            $this->contract->comments .= 'Linha de formação específica: '.strtoupper($this->contract->linhaFormacaoEspecifica)."\n";
        }

        if ( strlen((string)$this->contract->enade) > 0 )
        {
            /*$this->setFont(DEFAULT_REPORT_FONT, 'B', $this->defaultFontSize);
            $this->cell($this->psize-40, $this->lsize, 'Enade:', null, null, 'R');
            $this->setFont(DEFAULT_REPORT_FONT, '', $this->defaultFontSize);
            $this->cell(40, $this->lsize,strtoupper( ( $this->contract->enade == 1 ) ? 'PARTICIPOU' : 'ISENTO' ));*/
            $this->contract->comments .= 'Enade : ' . strtoupper( ( $this->contract->enade == 1 ) ? 'PARTICIPOU' : 'ISENTO' ) . "\n";
            $this->ln();
        }
        if ( strlen((string)$this->contract->atividadesComplementares) > 0 )
        {
            /*$this->setFont(DEFAULT_REPORT_FONT, 'B', $this->defaultFontSize);
            $this->cell($this->psize-40, $this->lsize, 'Atividades complementares: ', null, null, 'R');
            $this->setFont(DEFAULT_REPORT_FONT, '', $this->defaultFontSize);
            $this->cell(40, $this->lsize, $this->contract->atividadesComplementares . ' HORAS');
            $this->ln();*/
            $this->contract->comments .= 'O aluno cumpriu ' .$this->contract->atividadesComplementares .' Horas de Atividades Complementares. ' . "\n";
        }
        else
        {
            /*$this->setFont(DEFAULT_REPORT_FONT, 'B', $this->defaultFontSize);
            $this->cell($this->psize-40, $this->lsize, 'Atividades complementares: ', null, null,  'R');
            $this->setFont(DEFAULT_REPORT_FONT, '', $this->defaultFontSize);
            $this->cell(40, $this->lsize, 'NÃO CUMPRIU');
            $this->ln();*/
            $this->contract->comments .= 'O aluno NÃO CUMPRIU atividades complementares. ' . "\n";
        }

        $this->contract->comments .= $comments;
        parent::footerCurricularComponent();
    }
}
?>
