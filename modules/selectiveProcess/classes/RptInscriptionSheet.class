<?php

/**
 * Default defines 
 * To report identification
 */
define('REPORT_ID', 'SP001'); 
define('FPDF_FONTPATH', $MIOLO->getModulePath('basic', '/classes/fpdf/font/'));
$MIOLO  = MIOLO::getInstance();
$module = MIOLO::getCurrentModule();

$MIOLO->Uses('classes/fpdf/pdf.php', 'basic');

/**
 * Create header and footer information
 */
/*
class PDF extends FPDF
{
    var $type = 0;
   
    public function Footer()
    {
        $module = MIOLO::getCurrentModule();
    }

    
    public function Header()
    {
        $module = MIOLO::getCurrentModule();
        if ($this->type == 1)
        {
            $this->ln();
            $this->ln();
            $this->ln();
            $this->ln();
        }
    }
}
*/
/**
 * PDF extension to generate report
 */
class RptInscriptionSheet extends PDF
{
    /**
     * Method to generate the report
     */
    /*public function RptInscriptionSheet($data = null)
    {
        $rdata  = $this->getReportData($data);
		
        $module = MIOLO::getCurrentModule();

        $this->pdf = new PDF();        
        $this->generateContent($rdata);

        $this->close();
        $this->output();
    }*/
	var $module = 'selectiveProcess';
    public function __construct($data = NULL)
    {
        $MIOLO = MIOLO::getInstance();
        $rdata  = $this->getReportData($data);
        
        $rdata->unitId = $rdata->companyId;
        
        $this->title = strtoupper(_M('Inscription sheet', $this->module));
        parent::__construct($rdata);
        $this->defaultFontSize = 8;        
        $this->useUserInfo = true;
        //$this->addPage('P', 'mm', 'A4');
        $this->lsize = 3.5;
        $this->aliasNbPages();
        $this->putHeaderLine($rdata);
        $this->outPut();
    }
    
 	public function putHeaderLine($rdata)
    {
        $this->generateContent($rdata);
    }
    /**
     * Get report data information
     */
    private function getReportData($data)
    {
        $MIOLO  = MIOLO::getInstance();
        $module = MIOLO::getCurrentModule();

        // Inscription information
        $busInscriptionSheet    = $MIOLO->getBusiness($module, 'BusInscriptionSheet');

        $rdata->inscriptions       = $busInscriptionSheet->pupilsData($data);

        $rdata->selectiveProcessId = $data->selectiveProcessId;
        $rdata->inscriptionId      = $data->inscriptionId;

        $rdata->numTotalOptions    = $busInscriptionSheet->getNumberOptionsSelectiveProcess($rdata->selectiveProcessId);

        $busCompany  = $MIOLO->getBusiness(basic, 'BusCompany');
        $company = $busCompany->getCompany(DEFAULT_COMPANY_CONF);

        $busLegalPerson     = $MIOLO->getBusiness(basic, 'BusLegalPerson');
        $filters->personId  = $company->personId;
        $legalPersonCompany = $busLegalPerson->searchLegalPerson($filters);

        $rdata->company = $legalPersonCompany[0];

        $rdata->file = $company->personId;

        $busSelectiveProcess = $MIOLO->getBusiness($module, 'BusSelectiveProcess');
        $getSelectiveProcess = $busSelectiveProcess->getSelectiveProcess($data->selectiveProcessId);

        $rdata->isLanguage   = $getSelectiveProcess->isLanguage;
        $rdata->companyId = $getSelectiveProcess->companyId;

        return $rdata;
    }

    private function generateContent($rdata)
    {
        $MIOLO  = MIOLO::getInstance();
        $module = MIOLO::getCurrentModule();

        set_time_limit(0);

        if ( isset($rdata->inscriptions) )
        {
            foreach($rdata as $id1 => $value1)
            {
                if($id1 == 'inscriptions')
                {
                    $dataInscription[] = $value1;
                    break;
                }
            }

            foreach($dataInscription AS $value2)
            {
                foreach($value2 AS $value3)
                {
                    $this->addPage('P', 'mm', 'A4');

                    $widhtImage  = 33;
                    $heightImage = 33;

                    $posXImage = 170;
                    $posYImage = 5; 

                    /*Retirar logomarca*/
                    //$this->Image(SAGUFile::getPhotoPath($rdata->file), $posXImage, $posYImage, $widhtImage, PHOTO_FORMAT);

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 12);
                    $this->ln(8);

                    /*Retirar Cabeçalho*/
                    //$strTitleAux = _M('Inscription form of selective process', $module) . ' ' . $rdata->selectiveProcessId;

                    //$this->cell(200, 8, $strTitleAux, 8, 'R','L');
                  /*$this->ln(8);
                    $this->line(10, $this->getY(), $this->GetStringWidth($strTitleAux)+10, $this->getY());
                    $this->ln(4);
                    $this->line(10, $this->getY(), $this->GetStringWidth($strTitleAux)+10, $this->getY());
                    $this->ln(8);*/

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $strInscriptionNumberAux = _M('INSCRIPTION N.', $module);
                    $this->cell(200, 8, $strInscriptionNumberAux, 8, 'R','L');

                    $this->rect(45, $this->getY(), 20, 6);
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(47, $this->getY() + 5, $value3[0]);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(7);
                    $this->cell(150, 8, _M('CANDIDATE NAME', $module), 8, 'R','L');
                    $this->cell(60, 8,  _M('BIRTHDAY', $module),       8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->ln(1);
                    $this->rect(10, $this->getY() + 5,  145, 6);
                    $this->rect(160, $this->getY() + 5, 40, 6);

                    $this->text(12, $this->getY() + 10,  $value3[1] . ' - ' . $value3[2]);
                    $this->text(162, $this->getY() + 10, $value3[3]);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(12);
                    $this->cell(50,  8, _M('IDENTITY NUMBER', $module),            8, 'R','L');
                    $this->cell(30,  8, _M('ORGAN', $module),                      8, 'R','L');
                    $this->cell(40,  8, _M('CITY OF IDENTITY DOCUMENT', $module),  8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);

                    $this->ln(1);
                    $this->rect(10,  $this->getY() + 5,  35, 6);
                    $this->rect(60,  $this->getY() + 5,  25, 6);
                    $this->rect(90,  $this->getY() + 5,  110, 6);

                    $this->text(12, $this->getY() + 10, $value3[4]);
                    $this->text(62, $this->getY() + 10, $value3[5]);
                    $this->text(92, $this->getY() + 10, $value3[6]);


                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(12);
                    $this->cell(40,  8, 'CPF', 8, 'R','L');
                    $this->cell(70,  8, _M('NATURALNESS', $module),         8, 'R','L');
                    $this->cell(50,  8, _M('NATIONALITY', $module),  8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);

                    $this->ln(1);
                    $this->rect(10,  $this->getY() + 5,  35, 6);
                    $this->rect(50,  $this->getY() + 5,  60, 6);
                    $this->rect(120,  $this->getY() + 5, 80, 6);

                    $this->text(12,  $this->getY() + 10, $value3[7]);
                    $this->text(52,  $this->getY() + 10, $value3[8]);
                    $this->text(122, $this->getY() + 10, $value3[9]);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(12);
                    $this->cell(70,  8, _M('ADDRESS FOR CORRESPONDENCE(Street, number, ap., quarter)', $module), 8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);

                    $this->ln(1);
                    $this->rect(10,  $this->getY() + 5,  190, 6);
                    $this->text(12,  $this->getY() + 10, $value3[10] . ' ' . $value3[11] . ' - ' . $value3[12] . ' - ' . $value3[13]);


                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(12);
                    $this->cell(30,  8, _M('POSTAL CODE', $module),    8, 'R','L');
                    $this->cell(70,  8, _M('CITY', $module), 8, 'R','L');
                    $this->cell(60,  8, _M('PHONES', $module),  8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(1);
                    $this->rect(10,   $this->getY() + 5,  25, 6);
                    $this->rect(40,   $this->getY() + 5,  65, 6);
                    $this->rect(110,  $this->getY() + 5,  45, 6);
                    $this->rect(155,  $this->getY() + 5,  45, 6);

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(12,  $this->getY() + 10, $value3[14]);
                    $this->text(42,  $this->getY() + 10, $value3[15]);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->text(112, $this->getY() + 10, _M('Residential', $module));
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(132, $this->getY() + 10, $value3[16]);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->text(157, $this->getY() + 10, _M('Professional', $module));
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(176, $this->getY() + 10, $value3[17]);

                    $this->ln(6);
                    $this->rect(110,  $this->getY() + 5,  45, 6);
                    $this->rect(155,  $this->getY() + 5,  45, 6);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->text(112, $this->getY() + 10, _M('Cell', $module));
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(128, $this->getY() + 10, $value3[18]);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->text(157, $this->getY() + 10, _M('Message phone', $module));
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(176, $this->getY() + 10, $value3[19]);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->ln(4);
                    $this->rect(10,  $this->getY() + 5, 95, 18);

                    $this->ln(4);
                    $this->cell(15,  8, _M('Have some special necessity', $module),    8, 'R','L');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(75,  $this->getY() + 5, $value3[20] > 0 ? $value3[20] : 'NENHUMA');

                    $this->ln(8);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->multiCell(100,  4, _M('If ok, to make possible the exam aplication, specifies it', $module), 8, 'L', false);
                    $this->text(35,  $this->getY(), $value3[21]/* > 0 ? $value3[20] : 'NENHUMA'*/);

                    $this->ln(-9);

                    $this->cell(100,  8, '',    8, 'R','L');
                    $this->cell(47,  8, _M('MARITAL STATUS', $module),    8, 'R','L');
                    $this->cell(10,  8, _M('SEX' , $module),    8, 'R','L');

                    $this->ln(1);
                    $this->rect(110,   $this->getY() + 5,  43, 6);
                    $this->rect(157,   $this->getY() + 5,  43, 6);

                    $sexPerson           = $value3[22] == 'M' ? _M('Masculine' , $module) : ($value3[22] == 'F' ? _M('Feminine' , $module) : '');
                    $matiralStatusPerson = $value3[23] == 'C' ? _M('Married' , $module) : ($value3[23] == 'D' ? _M('Divorced' , $module) : ($value3[23] == 'N' ? _M('Not informed' , $module)  : ($value3[23] == 'S' ? _M('Bachelor' , $module) : ($value3[23] == 'E' ? _M('Emancipated single' , $module) : ($value3[23] == 'U' ? _M('Steady union' , $module) : ($value3[23] == 'V' ? _M('Widower' , $module) : '') )) ))) ;


                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(112,  $this->getY() + 10, $matiralStatusPerson );
                    $this->text(159,  $this->getY() + 10, $sexPerson);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(16);
                    $this->cell(100,  8, _M('FATHER NAME' , $module),    8, 'R','L');
                    $this->cell(60,   8, _M('MOTHER NAME' , $module),  8, 'R','L');

                    $this->ln(1);
                    $this->rect(10,   $this->getY() + 5,  90, 6);
                    $this->rect(110,  $this->getY() + 5,  90, 6);

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(12, $this->getY() + 10, $value3[25]);
                    $this->text(112,  $this->getY() + 10, $value3[24]);

                    $this->ln(12);
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->cell(15,  8, _M('Informations of high school' , $module),    8, 'R','L');

                    $this->ln(6);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->cell(15,  8, _M('SCHOOL' , $module),    8, 'R','L');

                    $isHighSchoolAux = $value3[26] == 't' ? _M('CONCLUED HIGH SCHOOL' , $module) : _M('NOT CONCLUED HIGH SCHOOL' , $module);

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->cell(85,  8, '',    8, 'R','L');
                    $this->cell(60,   8, $isHighSchoolAux,  8, 'R','L');

                    $this->rect(110,  $this->getY(),  90, 6);
                    $this->ln(6);
                    $this->rect(10,  $this->getY(), 190, 6);
                    $this->text(12,  $this->getY() + 5, $value3[27]);


                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(6);
                    $this->cell(100,  8, _M('CITY' , $module),    8, 'R','L');
                    $this->cell(60,   8, _M('UF' , $module),  8, 'R','L');

                    $this->ln(1);
                    $this->rect(10,   $this->getY() + 5,  90, 6);
                    $this->rect(110,  $this->getY() + 5,  90, 6);

                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(12,  $this->getY() + 10, $value3[28]);
                    $this->text(112, $this->getY() + 10, $value3[29]);


                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(12);
                    $this->cell(100,  8, _M('INSCRIPTION' , $module) . ": " . $rdata->selectiveProcessId,    8, 'R','L');
                    //$this->cell(100,  8, _M('SELECTIVE PROCESS INSCRIPTION' , $module) . $rdata->selectiveProcessId,    8, 'R','L');

                    $this->ln(1);
                    $this->rect(10,  $this->getY()+5,  30 , 5);
                    $this->rect(40,  $this->getY()+5,  40 , 5);
                    $this->rect(80,  $this->getY()+5,  120, 5);

                    $this->text(41,   $this->getY() + 9, _M('ID' , $module));
                    $this->text(120,  $this->getY() + 9, _M('COURSE/HABILITATION' , $module));


                    $busInscriptionSheet    = $MIOLO->getBusiness($module, 'BusInscriptionSheet');
                    $rdata->coursesOptions = $busInscriptionSheet->getCourseOfOptions($value3[0]);

                    for($numberOptionsExam = 1; $numberOptionsExam <= $rdata->numTotalOptions; $numberOptionsExam++)
                    {
                        $this->ln(5);
                        $this->rect(10,  $this->getY()+5,  30 , 5);
                        $this->rect(40,  $this->getY()+5,  40 , 5);
                        $this->rect(80,  $this->getY()+5,  120, 5);

                        $this->text(12,  $this->getY() + 9, $numberOptionsExam . _M('a. OPTION' , $module));

                        $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                        $this->text(41,  $this->getY() + 9, $rdata->coursesOptions[$numberOptionsExam-1][0] ? $rdata->coursesOptions[$numberOptionsExam-1][0] . ' / ' . $rdata->coursesOptions[$numberOptionsExam-1][3] : '');
                        $this->text(82,  $this->getY() + 9, $rdata->coursesOptions[$numberOptionsExam-1][0] ? $rdata->coursesOptions[$numberOptionsExam-1][1] : '');

                        $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    }
                    
					/*CITY*/
                    /*$this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(12);
                    $this->cell(100,  8, _M('CITY' , $module),    8, 'R','L');*/
                    //$this->cell(100,  8, _M('PLACE OF ACCOMPLISHMENT OF THE EXAM' , $module),    8, 'R','L');

                    if ( $rdata->isLanguage == DB_TRUE )
                    {
                        $this->cell(100,  8, _M('OPTION OF LANGUAGE' , $module),    8, 'R','L');
                    }

                    /*CITY*/
                    //$this->ln(1);
                    //$this->rect(10,  $this->getY() + 5,  90 , 6);

                    if ( $rdata->isLanguage == DB_TRUE )
                    {
                        $this->rect(110,  $this->getY() + 5, 90 , 6);
                    }
                    
					/*CITY*/
                    //$this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    //$this->text(12,   $this->getY() + 10, $value3[30]);

                    if ( $rdata->isLanguage == DB_TRUE )
                    {
                        $this->text(112,  $this->getY() + 10, $value3[31]);
                    }


                    $numberInscriptionOtherSelectiveProcess = $busInscriptionSheet->getNumberInscriptionOtherSelectiveProcess($value3[0]);

                    if((strlen((string)$numberInscriptionOtherSelectiveProcess) > 0))
                    {
                        $noteExamsOther = $busInscriptionSheet->getNotesOtherSelectiveProcess($rdata->selectiveProcessId, $value3[0]);

                        for($auxExam = 0; $auxExam < count($noteExamsOther); $auxExam++)
                        {
                            switch($noteExamsOther[$auxExam][1])
                            {
                                case ENEM_ABILITY_1_CODE :
                                        $compet1 = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_ABILITY_2_CODE :
                                        $compet2 = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_ABILITY_3_CODE :
                                        $compet3 = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_ABILITY_4_CODE :
                                        $compet4 = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_ABILITY_5_CODE :
                                        $compet5 = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_EXAM_CODE :
                                        $enem = $noteExamsOther[$auxExam][0];
                                        break;
                                case ENEM_WRITING_CODE :
                                        $redNote = $noteExamsOther[$auxExam][0];
                                        break;
                            }
                        }
                    }
                    else
                    {
                        $compet1 = '';
                        $compet2 = '';
                        $compet3 = '';
                        $compet4 = '';
                        $compet5 = '';
                        $enem    = '';
                        $redNote = '';
                    }
                    
                    
                    
					/* Alterado por Marcos Serra
					 * Retirada informações sobre ENEM					  
					 */
                    /*$this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(12);
                    $this->cell(100,  8, _M('INSCRIPTION WITH ENEM NOTE' , $module),    8, 'R','L');

                    $this->ln(1);
                    $this->rect(10,  $this->getY() + 5,  40 ,  6);

                    $this->rect(50,  $this->getY() + 5,   100 , 6);
                    $this->rect(50,  $this->getY() + 11,  100 , 5);
                    $this->rect(50,  $this->getY() + 16,  100 , 5);
                    $this->rect(50,  $this->getY() + 21,  100 , 5);
                    $this->rect(50,  $this->getY() + 26,  100 , 5);

                    $this->text(52,  $this->getY() +  4 + 11, _M('Ability', $module) . ' 1  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(82,  $this->getY() +  4 + 11, $compet1 );
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(52,  $this->getY() + 10 + 10, _M('Ability', $module) . ' 2  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(82,  $this->getY() + 10 + 10, $compet2);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(156, $this->getY() + 10 + 10, _M('Objective exam', $module) . ':  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(181, $this->getY() + 10 + 10, $enem);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(52,  $this->getY() + 15 + 10, _M('Ability', $module) . ' 3  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(82,  $this->getY() + 15 + 10, $compet3);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->line(15,  $this->getY() + 15 + 10, 45,  $this->getY() + 15 + 10 );
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(18,  $this->getY() + 15 + 9, $numberInscriptionOtherSelectiveProcess);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(52,  $this->getY() + 20 + 10, _M('Ability', $module) . ' 4  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(82,  $this->getY() + 20 + 10, $compet4);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(52,  $this->getY() + 25 + 10, _M('Ability', $module) . ' 5  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(82,  $this->getY() + 25 + 10, $compet5);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->text(156, $this->getY() + 20 + 10, _M('Writing',$module) . ':  ');
                    $this->setFont(DEFAULT_REPORT_FONT, 'B', 10);
                    $this->text(181, $this->getY() + 20 + 10, $redNote);
                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);

                    $this->rect(150,  $this->getY() + 5, 50 , 6);

                    $this->text(18,    $this->getY() + 10,'Nº ' . _M('INSCRIPTION', $module));
                    $this->text(75,    $this->getY() + 10, _M('NOTES OF ABILITYS', $module));
                    $this->text(157,   $this->getY() + 10, _M('NOTES OF ENEM', $module));

                    $this->ln(6);
                    $this->rect(10,  $this->getY() + 5,  40 ,  25);
                    $this->rect(50,  $this->getY() + 5,  100 , 25);
                    $this->rect(150,  $this->getY() + 5,  50 , 25);

                    $this->setFont(DEFAULT_REPORT_FONT, '', 10);
                    $this->ln(6+25);
                    $this->cell(100,  8, 'OBS.: ' . _M('Join document that comprove the note gotten in ENEM', $module),    8, 'R','L');

                    $this->setFont(DEFAULT_REPORT_FONT, '', 8);
                    $this->ln(8);
                    $this->cell(100,  8, $rdata->company[8] . ' - ' . _M('quarter', $module). ' ' . $rdata->company[10] . ' - ' . $rdata->company[6] . ' - ' . $rdata->company[7]  . ' - ' . _M('Phone', $module) . ' ' . $rdata->company[22] . ' - e-mail ' . $rdata->company[11],    8, 'R','L');
                    */
                }
            }
        }
    }
}
?>
