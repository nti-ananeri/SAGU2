<?php

/**
*
* This file handles the connection and actions for finBank table
*
* @author Giovani Murilo Dantas Correa [gmurilo@isolution.inf.br]
*
* $version: $Id$
*
* \b Maintainers \n
* Daniel Afonso Heisler [daniel@isolution.inf.br]
*
* @since
* Class created on 18/10/2007
*
* \b Organization: \n
* iSolution - Soluções de Internet \n
* The iSolution TEAM
*
* \b CopyLeft: \n
* CopyLeft (L) 2007 iSolution - Soluções de Internet \n
*
* \b License \n
* Licensed under GPL (for further details read the COPYING file or http://www.gnu.org/copyleft/gpl.html )
*
* \b History \n
* See history in CVS repository: http://isolution.inf.br   
*
**/

$MIOLO->getClass( 'finance', 'RptPrintInvoiceBullet' );

class RptPrintInvoicesInLot extends RptPrintInvoiceBullet
{
    public $invoices;
    
    public function __construct($filters = null)
    {
        $this->invoices = $filters->invoices;
        $this->printInvoicesInLot = TRUE;
        parent::__construct($filters);
        $this->generatePDF($filters);
    }

	public function generatePDF($filters = null)
    {
        $module = 'finance';
		foreach ($this->invoices as $item)
    	{
            unset($this->invoiceId);
            
            foreach($item->invoiceId as $boleto => $valor)
            {
                $this->invoiceIds[] = $valor;
            }
    	}
        parent::generatePDF($filters);
        $this->output();
    }
}
?>
